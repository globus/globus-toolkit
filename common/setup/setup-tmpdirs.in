
AC_REVISION($Revision$)
AC_INIT(Paths.in)


# checking for the GLOBUS_LOCATION

if test "x$GLOBUS_LOCATION" = "x"; then
    echo "ERROR Please specify GLOBUS_LOCATION" >&2
    exit 1
fi

AC_ARG_WITH(tmpdir,
        [  --with-tmpdir=DIR             temporary files in DIR [/tmp]],
        [tmpdir="$withval"],
        [tmpdir='/tmp'])
AC_SUBST(tmpdir)


AC_ARG_WITH(local_tmpdir,
        [  --with-local-tmpdir=LDIR      local temporary files in LDIR [/tmp]],
        [local_tmpdir="$withval"],
        [local_tmpdir='/tmp'])
AC_SUBST(local_tmpdir)

dnl The following directory is used to specify a local temporary file
dnl system.  It's prefered to be a local file system for security needs.

AC_ARG_WITH(secure_tmpdir,
        [  --with-secure-tmpdir=SECDIR   local temporary files in SECDIR [LDIR]],
        [secure_tmpdir="$withval"],
        [secure_tmpdir="${GLOBUS_LOCATION}/tmp"])
AC_SUBST(secure_tmpdir)

if test ! -d "${secure_tmpdir}" ; then
        mkdir "${secure_tmpdir}"
        chmod 0755 "${secure_tmpdir}"
fi

AC_OUTPUT(
	globus-script-initializer
	Paths.pm:Paths.in
)







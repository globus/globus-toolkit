'\" t
.\"     Title: globus-job-manager
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 10/13/2009
.\"    Manual: GRAM5 Commands
.\"    Source: University of Chicago
.\"  Language: English
.\"
.TH "GLOBUS\-JOB\-MANAGER" "8" "10/13/2009" "University of Chicago" "GRAM5 Commands"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
globus-job-manager \- Execute and monitor jobs
.SH "SYNOPSIS"
.HP \w'\fBglobus\-job\-manager\fR\ 'u
\fBglobus\-job\-manager\fR {\-type\ \fILRM\fR} [\-conf\ \fICONFIG_PATH\fR] [\-help] [\-globus\-host\-manufacturer\ \fIMANUFACTURER\fR] [\-globus\-host\-cputype\ \fICPUTYPE\fR] [\-globus\-host\-osname\ \fIOSNAME\fR] [\-globus\-host\-osversion\ \fIOSVERSION\fR] [\-globus\-gatekeeper\-host\ \fIHOST\fR] [\-globus\-gatekeeper\-port\ \fIPORT\fR] [\-globus\-gatekeeper\-subject\ \fISUBJECT\fR] [\-home\ \fIGLOBUS_LOCATION\fR] [\-target\-globus\-location\ \fITARGET_GLOBUS_LOCATION\fR] [\-condor\-arch\ \fIARCH\fR] [\-condor\-os\ \fIOS\fR] [\-history\ \fIHISTORY_DIRECTORY\fR] [\-scratch\-dir\-base\ \fISCRATCH_DIRECTORY\fR] [\-enable\-syslog] [\-stdio\-log\ \fILOG_DIRECTORY\fR] [\-log\-levels\ \fILEVELS\fR] [\-state\-file\-dir\ \fISTATE_DIRECTORY\fR] [\-globus\-tcp\-port\-range\ \fIPORT_RANGE\fR] [\-x509\-cert\-dir\ \fITRUSTED_CERTIFICATE_DIRECTORY\fR] [\-cache\-location\ \fIGASS_CACHE_DIRECTORY\fR] [\-k] [\-extra\-envvars\ \fIVAR=VAL,\&.\&.\&.\fR] [\-seg\-module\ \fISEG_MODULE\fR] [\-audit\-directory\ \fIAUDIT_DIRECTORY\fR] [\-globus\-toolkit\-version\ \fITOOLKIT_VERSION\fR] [\-non\-single] [\-disable\-streaming] [\-service\-tag\ \fISERVICE_TAG\fR] [\-rsl\ \fIRSL\fR]
.SH "DESCRIPTION"
.PP
The
\fBglobus\-job\-manager\fR
program is a servivce which starts and controls GRAM jobs which are executed by a local resource management system, such as LSF or Condor\&. The
\fBglobus\-job\-manager\fR
program is typically started by the
\fBglobus\-gatekeeper\fR
program and not directly by a user\&. It runs until all jobs it is managing have terminated or its delegated credentials have expired\&.
.PP
Typically, users interact with the
\fBglobus\-job\-manager\fR
program via client applications such as
\fBglobusrun\fR,
\fBglobus\-job\-submit\fR, or tools such as CoG jglobus or Condor\-G\&.
.PP
The full set of command\-line options to
\fBglobus\-job\-manager\fR
consists of:
.TS
allbox tab(:);
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l.
T{
\-help
T}:T{
Display a help message to standard error and exit
T}
T{
\-type \fILRM\fR
T}:T{
Execute jobs using the local resource manager named \fILRM\fR\&.
T}
T{
\-conf \fICONFIG_PATH\fR
T}:T{
Read additional command\-line arguments from the file \fICONFIG_PATH\fR\&. If present, this must be the first command\-line argument to the \fBglobus\-job\-manager\fR program\&.
T}
T{
\-globus\-host\-manufacturer
                        \fIMANUFACTURER\fR
T}:T{
Indicate the manufacturer of the system which the jobs will execute on\&. This parameter sets the value of the \fI$(GLOBUS_HOST_MANUFACTURER)\fR RSL substitution to \fIMANUFACTURER\fR
T}
T{
\-globus\-host\-cputype \fICPUTYPE\fR
T}:T{
Indicate the CPU type of the system which the jobs will execute on\&. This parameter sets the value of the \fI$(GLOBUS_HOST_CPUTYPE)\fR RSL substitution to \fICPUTYPE\fR
T}
T{
\-globus\-host\-osname \fIOSNAME\fR
T}:T{
Indicate the operating system type of the system which the jobs will execute on\&. This parameter sets the value of the \fI$(GLOBUS_HOST_OSNAME)\fR RSL substitution to \fIOSNAME\fR
T}
T{
\-globus\-host\-osversion \fIOSVERSION\fR
T}:T{
Indicate the operating system version of the system which the jobs will execute on\&. This parameter sets the value of the \fI$(GLOBUS_HOST_OSVERSION)\fR RSL substitution to \fIOSVERSION\fR
T}
T{
\-globus\-gatekeeper\-host \fIHOST\fR
T}:T{
Indicate the host name of the machine which the job was submitted to\&. This parameter sets the value of the \fI$(GLOBUS_GATEKEEPER_HOST)\fR RSL substitution to \fIHOST\fR
T}
T{
\-globus\-gatekeeper\-port \fIPORT\fR
T}:T{
Indicate the TCP port number of gatekeeper to which jobs are submitted to\&. This parameter sets the value of the \fI$(GLOBUS_GATEKEEPER_PORT)\fR RSL substitution to \fIPORT\fR
T}
T{
\-globus\-gatekeeper\-subject \fISUBJECT\fR
T}:T{
Indicate the X\&.509 identity of the gatekeeper to which jobs are submitted to\&. This parameter sets the value of the \fI$(GLOBUS_GATEKEEPER_SUBJECT)\fR RSL substitution to \fIPORT\fR
T}
T{
\-home \fIGLOBUS_LOCATION\fR
T}:T{
Indicate the path where the Globus Toolkit(r) is installed on the service node\&. This is used by the job manager to locate its support and configuration files\&.
T}
T{
\-target\-globus\-location \fITARGET_GLOBUS_LOCATION\fR
T}:T{
Indicate the path where the Globus Toolkit(r) is installed on the execution host\&. If this is omitted, the value specified as a parameter to \fB\-home\fR is used\&. This parameter sets the value of the \fI$(GLOBUS_LOCATION)\fR RSL substitution to \fITARGET_GLOBUS_LOCATION\fR
T}
T{
\-history \fIHISTORY_DIRECTORY\fR
T}:T{
Configure the job manager to write job history files to \fIHISTORY_DIRECTORY\fR\&. These files are described in the FILES section below\&.
T}
T{
\-scratch\-dir\-base \fISCRATCH_DIRECTORY\fR
T}:T{
Configure the job manager to use \fISCRATCH_DIRECTORY\fR as the default scratch directory root if a relative path is specified in the job RSL\'s \fIscratch_dir\fR attribute\&.
T}
T{
\-enable\-syslog
T}:T{
Configure the job manager to write log messages via syslog\&. Logging is further controlled by the argument to the \fB\-log\-levels\fR parameter described below\&.
T}
T{
\-stdio\-log \fILOG_DIRECTORY\fR
T}:T{
Configure the job manager to write log messages to files  in the \fILOG_DIRECTORY\fR directory\&. Files will be named \fILOG_DIRECTORY\fR/gram_\fIYYYYMMDD\fR\&.log\&. Logging is further controlled by the argument to the \fB\-log\-levels\fR parameter described below\&.
T}
T{
\-log\-levels \fILEVELS\fR
T}:T{
Configure the job manager to write log messages of certain levels to syslog and/or log files\&. The available log levels are FATAL, ERROR, WARN, INFO, DEBUG, and TRACE\&. Multiple values can be combined with the | character\&. The default value of logging when enabled is FATAL|ERROR\&.
T}
T{
\-state\-file\-dir \fISTATE_DIRECTORY\fR
T}:T{
Configure the job manager to write state files to \fISTATE_DIRECTORY\fR\&. If not specified, the job manager uses the default of \fI$GLOBUS_LOCATION\fR/tmp/gram_job_state/\&. This directory must be writable by all users and be on a file system which supports POSIX advisory file locks\&.
T}
T{
\-globus\-tcp\-port\-range \fIPORT_RANGE\fR
T}:T{
Configure the job manager to restrict its TCP/IP communication to use ports in the range described by \fIPORT_RANGE\fR\&. This value is also made available in the job environment via the \fIGLOBUS_TCP_PORT_RANGE\fR environment variable\&.
T}
T{
\-x509\-cert\-dir \fITRUSTED_CERTIFICATE_DIRECTORY\fR
T}:T{
Configure the job manager to search \fITRUSTED_CERTIFICATE_DIRECTORY\fR for its list of trusted CA certificates and their signing policies\&. This value is also made available in the job environment via the \fIX509_CERT_DIR\fR environment variable\&.
T}
T{
\-cache\-location \fIGASS_CACHE_DIRECTORY\fR
T}:T{
Configure the job manager to use the path \fIGASS_CACHE_DIRECTORY\fR for its temporary GASS\-cache files\&. This value is also made available in the job environment via the \fIGLOBUS_GASS_CACHE_DEFAULT\fR environment variable\&.
T}
T{
\-k
T}:T{
Configure the job manager to assume it is using Kerberos for authentication instead of X\&.509 certificates\&. This disables some certificate\-specific processing in the job manager\&.
T}
T{
\-extra\-envvars \fIVAR=VAL,\&.\&.\&.\fR
T}:T{
Configure the job manager to define a set of environment variables in the job environment beyond those defined in the base job environment\&. The format of the parameter to this argument is a comma\-separated sequence of VAR=VAL pairs, where VAR is the variable name and VAL is the variables value\&.
T}
T{
\-seg\-module \fISEG_MODULE\fR
T}:T{
Configure the job manager to use the schedule event generator module named by \fISEG_MODULE\fR to detect job state changes events from the local resource manager, in place of the less efficient polling operations used in GT2\&. To use this, one instance of the \fBglobus\-job\-manager\-event\-generator\fR must be running to process events for the LRM into a generic format that the job manager can parse\&.
T}
T{
\-audit\-directory \fIAUDIT_DIRECTORY\fR
T}:T{
Configure the job manager to write audit records to the directory named by \fIAUDIT_DIRECTORY\fR\&. This records can be loaded into a database using the \fBglobus\-gram\-audit\fR program\&.
T}
T{
\-globus\-toolkit\-version \fITOOLKIT_VERSION\fR
T}:T{
Configure the job manager to use \fITOOLKIT_VERSION\fR as the version for audit and usage stats records\&.
T}
T{
\-non\-single
T}:T{
Configure the job manager to run a separate job manager process per job, like in GT2\&. Not recommended\&.
T}
T{
\-service\-tag \fISERVICE_TAG\fR
T}:T{
Configure the job manager to use \fISERVICE_TAG\fR as a unique identifier to allow multiple GRAM instances to use the same job state directories without interfering with each other\'s jobs\&. If not set, the value untagged will be used\&.
T}
T{
\-rsl \fIRSL\fR
T}:T{
Start the job manager with the job specified by \fIRSL\fR instead of expecting a job request from the network\&.
T}
T{
\-disable\-streaming
T}:T{
Configure the job manager to disable file streaming\&. This is propagated to the LRM script interface but has no effect in GRAM5\&.
T}
T{
\-condor\-arch \fIARCH\fR
T}:T{
Set the architecture specification for condor jobs to be \fIARCH\fR in job classified ads generated by the GRAM5 codnor LRM script\&. This is required for the condor LRM but ignored for all others\&.
T}
T{
\-condor\-os \fIOS\fR
T}:T{
Set the operating system specification for condor jobs to be \fIOS\fR in job classified ads generated by the GRAM5 codnor LRM script\&. This is required for the condor LRM but ignored for all others\&.
T}
.TE
.sp 1
.SH "ENVIRONMENT"
.PP
If the following variables affect the execution of
\fBglobus\-job\-manager\fR
.TS
allbox tab(:);
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l.
T{
HOME
T}:T{
User\'s home directory\&.
T}
T{
LOGNAME
T}:T{
User\'s name\&.
T}
T{
JOBMANAGER_SYSLOG_ID
T}:T{
String to prepend to syslog audit messages\&.
T}
T{
JOBMANAGER_SYSLOG_FAC
T}:T{
Facility to log syslog audit messages as\&.
T}
T{
JOBMANAGER_SYSLOG_LVL
T}:T{
Priority level to use for syslog audit messages\&.
T}
T{
GATEKEEPER_JM_ID
T}:T{
Job manager ID to be used in syslog audit records\&.
T}
T{
GATEKEEPER_PEER
T}:T{
Peer information to be used in syslog audit records
T}
T{
GLOBUS_ID
T}:T{
Credential information to be used in syslog audit records
T}
T{
GLOBUS_JOB_MANAGER_SLEEP
T}:T{
Time (in seconds) to sleep when the job manager is started\&. [For debugging purposes only]
T}
T{
GRID_SECURITY_HTTP_BODY_FD
T}:T{
File descriptor of an open file which contains the initial job request and to which the initial job reply should be sent\&. This file descriptor is inherited from the \fBglobus\-gatekeeper\fR\&.
T}
T{
X509_USER_PROXY
T}:T{
Path to the X\&.509 user proxy which was delegated by the client to the \fBglobus\-gatekeeper\fR program to be used by the job manager\&.
T}
T{
GRID_SECURITY_CONTEXT_FD
T}:T{
File descriptor containing an exported security context that the job manager should use to reply to the client which submitted the job\&.
T}
.TE
.sp 1
.SH "FILES"
.PP
.TS
allbox tab(:);
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l
l l.
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fILRM\fR\&.\fITAG\fR\&.\fIred\fR
T}:T{
Job manager delegated user credential\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fILRM\fR\&.\fITAG\fR\&.\fIlock\fR
T}:T{
Job manager state lock file\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fILRM\fR\&.\fITAG\fR\&.\fIpid\fR
T}:T{
Job manager pid file\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fILRM\fR\&.\fITAG\fR\&.\fIsock\fR
T}:T{
Job manager socket for inter\-job manager communications\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fIJOB_ID\fR/
T}:T{
Job\-specific state directory\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fIJOB_ID\fR/stdin
T}:T{
Standard input which has been staged from a remote URL\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fIJOB_ID\fR/stdout
T}:T{
Standard output which will be staged from a remote URL\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fIJOB_ID\fR/stderr
T}:T{
Standard error which will be staged from a remote URL\&.
T}
T{
\fB$HOME\fR/\&.globus/job/\fIHOSTNAME\fR/\fIJOB_ID\fR/x509_user_proxy
T}:T{
Job\-specific delegated credential\&.
T}
T{
\fB$GLOBUS_LOCATION\fR/tmp/gram_job_state/job\&.\fIHOSTNAME\fR\&.\fIJOB_ID\fR
T}:T{
Job state file\&.
T}
T{
\fB$GLOBUS_LOCATION\fR/tmp/gram_job_state/job\&.\fIHOSTNAME\fR\&.\fIJOB_ID\fR\&.lock
T}:T{
Job state lock file\&. In most cases this will be a symlink to the job manager lock file\&.
T}
T{
\fB$GLOBUS_LOCATION\fR/etc/globus\-job\-manager\&.conf
T}:T{
Default location of the global job manager configuration file\&.
T}
T{
\fB$GLOBUS_LOCATION\fR/etc/grid\-services/jobmanager\-\fILRM\fR
T}:T{
Default location of the LRM\-specific gatekeeper configuration file\&.
T}
.TE
.sp 1

